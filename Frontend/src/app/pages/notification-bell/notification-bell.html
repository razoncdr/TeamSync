<div class="notification-wrapper">
  <button class="bell-btn" (click)="toggle()">
    ðŸ””
    <span *ngIf="unreadCount > 0" class="badge">{{ unreadCount }}</span>
  </button>

  <div class="dropdown" *ngIf="isOpen">
    <div class="header">
      <span>Notifications</span>
      <button class="mark-all" (click)="markAllAsRead()">Mark all as read</button>
    </div>

    <div class="list">
      <div
        class="item"
        *ngFor="let n of notifications"
        [class.unread]="!n.isRead"
        (click)="markAsRead(n)"
      >
        <div class="dot" *ngIf="!n.isRead"></div>

        <div class="content">
          <div class="title">{{ n.title }}</div>
          <div class="message">{{ n.message }}</div>
          <small>{{ n.createdAt | date: 'short' }}</small>
        </div>
      </div>

      <div *ngIf="notifications.length === 0" class="empty">
        ðŸŽ‰ You're all caught up
      </div>
    </div>
  </div>
</div>
